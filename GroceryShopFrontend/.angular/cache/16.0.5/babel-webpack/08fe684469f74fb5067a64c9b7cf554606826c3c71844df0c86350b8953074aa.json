{"ast":null,"code":"import { FormGroup, FormControl } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../Services/grocery-products.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = [\"fileInput\"];\nfunction UpdateProductListComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"strong\");\n    i0.ɵɵtext(2, \"Success!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \" Product is Updated SuccessFully . \");\n    i0.ɵɵelementStart(4, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function UpdateProductListComponent_div_5_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.closeClick());\n    });\n    i0.ɵɵelementStart(5, \"span\", 25);\n    i0.ɵɵtext(6, \"\\u00D7\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction UpdateProductListComponent_p_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Selected file: \", ctx_r1.PhotoFileName, \"\");\n  }\n}\nfunction UpdateProductListComponent_p_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Selected file: \", ctx_r2.selectedFileName, \"\");\n  }\n}\nfunction UpdateProductListComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"img\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r3.PhotoFilePath, i0.ɵɵsanitizeUrl)(\"alt\", ctx_r3.PhotoFileName);\n  }\n}\nfunction UpdateProductListComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"img\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r4.changedPhotoFilePath, i0.ɵɵsanitizeUrl)(\"alt\", ctx_r4.changedPhotoFilePath);\n  }\n}\nclass UpdateProductListComponent {\n  constructor(service, router) {\n    this.service = service;\n    this.router = router;\n    this.isProductAdded = false;\n    this.isChanged = false;\n    this.id = this.router.snapshot.params['id'];\n    this.UpdatedProductForm = new FormGroup({\n      productName: new FormControl(\"\"),\n      description: new FormControl(\"\"),\n      quantity: new FormControl(\"\"),\n      imageFileName: new FormControl(\"\"),\n      price: new FormControl(\"\"),\n      discount: new FormControl(\"\"),\n      specification: new FormControl(\"\")\n    });\n  }\n  ngOnInit() {\n    console.warn(this.id);\n    this.service.getproductsById(this.id).subscribe(result => {\n      const selectedFileName = result.imageFileName;\n      const filenameParts = selectedFileName?.split('\\\\');\n      const filename = filenameParts?.[filenameParts.length - 1];\n      this.PhotoFileName = filename;\n      this.phottFIle = this.service.imageUrl + filename;\n      this.PhotoFilePath = this.phottFIle;\n      this.isChanged = false;\n      this.UpdatedProductForm = new FormGroup({\n        productName: new FormControl(result[\"productName\"]),\n        description: new FormControl(result[\"description\"]),\n        quantity: new FormControl(result[\"quantity\"]),\n        imageFileName: new FormControl(),\n        price: new FormControl(result[\"price\"]),\n        discount: new FormControl(result[\"discount\"]),\n        specification: new FormControl(result[\"specification\"])\n      });\n    });\n  }\n  collectUpdatedData() {\n    console.warn(this.id, this.UpdatedProductForm.value);\n    this.isProductAdded = true;\n    this.service.updateProduct(this.UpdatedProductForm.value, this.id).subscribe(result => {\n      console.warn(result);\n    });\n  }\n  UploadPhoto(event) {\n    this.selectedFile = event.target.files[0];\n    this.selectedFileName = this.selectedFile ? this.selectedFile.name : undefined;\n    const formdata = new FormData();\n    if (this.selectedFile) {\n      formdata.append('file', this.selectedFile, this.selectedFileName);\n    }\n    this.service.UploadPhoto(formdata).subscribe(response => {\n      console.log(response.fileName);\n      this.selectedFileName = response.fileName;\n      const filenameParts = this.selectedFileName?.split('\\\\');\n      this.selectedFileName = filenameParts?.[filenameParts.length - 1];\n      this.changedPhotoFilePath = this.service.imageUrl + this.selectedFileName;\n      this.isChanged = true;\n    }, error => {\n      console.error(error);\n    });\n  }\n  closeClick() {\n    this.isProductAdded = false;\n  }\n}\nUpdateProductListComponent.ɵfac = function UpdateProductListComponent_Factory(t) {\n  return new (t || UpdateProductListComponent)(i0.ɵɵdirectiveInject(i1.GroceryProductsService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nUpdateProductListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UpdateProductListComponent,\n  selectors: [[\"app-update-product-list\"]],\n  viewQuery: function UpdateProductListComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.fileInput = _t.first);\n    }\n  },\n  decls: 45,\n  vars: 6,\n  consts: [[\"routerLink\", \"/\", 1, \"ProductPage\"], [1, \"container\"], [\"class\", \"alert alert-success alert-dismissible fade show\", \"role\", \"alert\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"row\", \"mb-3\"], [\"for\", \"productName\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"productName\", \"placeholder\", \"Enter product name\", \"formControlName\", \"productName\", 1, \"form-control\"], [\"for\", \"description\", 1, \"form-label\"], [\"id\", \"description\", \"rows\", \"3\", \"placeholder\", \"Enter description\", \"formControlName\", \"description\", 1, \"form-control\"], [1, \"col\"], [\"for\", \"quantity\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"quantity\", \"placeholder\", \"Enter quantity\", \"formControlName\", \"quantity\", 1, \"form-control\"], [\"for\", \"imageFileName\", 1, \"form-label\"], [\"type\", \"file\", \"name\", \"imageFileName\", \"id\", \"imageFileName\", \"formControlName\", \"imageFileName\", 1, \"form-control\", 3, \"change\"], [4, \"ngIf\"], [\"class\", \"col\", 4, \"ngIf\"], [\"for\", \"price\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"price\", \"placeholder\", \"Enter price\", \"formControlName\", \"price\", 1, \"form-control\"], [\"for\", \"discount\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"discount\", \"placeholder\", \"Enter discount\", \"formControlName\", \"discount\", 1, \"form-control\"], [\"for\", \"specification\", 1, \"form-label\"], [\"id\", \"specification\", \"rows\", \"3\", \"placeholder\", \"Enter specification\", \"formControlName\", \"specification\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [\"role\", \"alert\", 1, \"alert\", \"alert-success\", \"alert-dismissible\", \"fade\", \"show\"], [\"type\", \"button\", \"data-dismiss\", \"alert\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [2, \"width\", \"100px\", \"height\", \"100px\", 3, \"src\", \"alt\"]],\n  template: function UpdateProductListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"a\", 0);\n      i0.ɵɵtext(1, \"Go Back to Products page\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"h2\");\n      i0.ɵɵtext(4, \"Update Product Details\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(5, UpdateProductListComponent_div_5_Template, 7, 0, \"div\", 2);\n      i0.ɵɵelementStart(6, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function UpdateProductListComponent_Template_form_ngSubmit_6_listener() {\n        return ctx.collectUpdatedData();\n      });\n      i0.ɵɵelementStart(7, \"div\", 4)(8, \"label\", 5);\n      i0.ɵɵtext(9, \"Product Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 4)(12, \"label\", 7);\n      i0.ɵɵtext(13, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"textarea\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 4)(16, \"div\", 9)(17, \"label\", 10);\n      i0.ɵɵtext(18, \"Quantity\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(19, \"input\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 4)(21, \"div\", 9)(22, \"label\", 12);\n      i0.ɵɵtext(23, \"Image\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"input\", 13);\n      i0.ɵɵlistener(\"change\", function UpdateProductListComponent_Template_input_change_24_listener($event) {\n        return ctx.UploadPhoto($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(25, UpdateProductListComponent_p_25_Template, 2, 1, \"p\", 14);\n      i0.ɵɵtemplate(26, UpdateProductListComponent_p_26_Template, 2, 1, \"p\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(27, UpdateProductListComponent_div_27_Template, 2, 2, \"div\", 15);\n      i0.ɵɵtemplate(28, UpdateProductListComponent_div_28_Template, 2, 2, \"div\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"div\", 4)(30, \"div\", 9)(31, \"label\", 16);\n      i0.ɵɵtext(32, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(33, \"input\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"div\", 9)(35, \"label\", 18);\n      i0.ɵɵtext(36, \"Discount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(37, \"input\", 19);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(38, \"div\", 4);\n      i0.ɵɵelementStart(39, \"div\", 4)(40, \"label\", 20);\n      i0.ɵɵtext(41, \"Specification\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(42, \"textarea\", 21);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"button\", 22);\n      i0.ɵɵtext(44, \"Update Product\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.isProductAdded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.UpdatedProductForm);\n      i0.ɵɵadvance(19);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isChanged);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isChanged);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isChanged);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isChanged);\n    }\n  },\n  dependencies: [i3.NgIf, i2.RouterLink, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName],\n  styles: [\".container[_ngcontent-%COMP%] {\\r\\n    max-width: 800px;\\r\\n    margin: 0 auto;\\r\\n    padding: 40px;\\r\\n    border: 1px solid #f8f9fa;\\r\\n    margin-top: 50px;\\r\\n    border-radius: 5px;\\r\\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\\r\\n  }\\r\\n\\r\\n  h2[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n    margin-bottom: 30px;\\r\\n    padding: 16px 0px;\\r\\n    background-color: rgba(106, 106, 104, 0.035);\\r\\n    margin-bottom: 20px;\\r\\n  }\\r\\n\\r\\n \\r\\n\\r\\n  .form-label[_ngcontent-%COMP%] {\\r\\n    font-weight: bold;\\r\\n  }\\r\\n\\r\\n  .form-control[_ngcontent-%COMP%] {\\r\\n    border-radius: 5px;\\r\\n  }\\r\\n\\r\\n  textarea.form-control[_ngcontent-%COMP%] {\\r\\n    resize: vertical;\\r\\n  }\\r\\n\\r\\n  .btn-primary[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    margin-top: 12px;\\r\\n   border-radius:28px ;\\r\\n    font-size: 20px;\\r\\n    \\r\\n  }\\r\\n\\r\\n  .form-text[_ngcontent-%COMP%]{\\r\\n    font-size: small;\\r\\n    font-weight: 500;\\r\\n    color: rgb(255, 32, 32);\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n.ProductPage[_ngcontent-%COMP%]{\\r\\n   position: relative;\\r\\n   top:20px;\\r\\n   margin-right: 700px;\\r\\n    text-decoration: none;\\r\\n    padding: 8px 8px;\\r\\n    border-radius: 5px;\\r\\n    font-size: 18px;\\r\\n    color: white;\\r\\n    font-weight: 600;\\r\\n    background-color: rgba(0, 170, 255, 0.73);\\r\\n  }\\r\\n  \\r\\n  .ProductPage[_ngcontent-%COMP%]:hover{\\r\\n    border: 3px solid rgba(0, 170, 255, 0.541);\\r\\n    color: rgba(0, 170, 255, 0.541);\\r\\n    font-weight: 700;\\r\\n    background-color: white;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQ29tcG9uZW50L3VwZGF0ZS1wcm9kdWN0LWxpc3QvdXBkYXRlLXByb2R1Y3QtbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGNBQWM7SUFDZCxhQUFhO0lBQ2IseUJBQXlCO0lBQ3pCLGdCQUFnQjtJQUNoQixrQkFBa0I7SUFDbEIsd0NBQXdDO0VBQzFDOztFQUVBO0lBQ0Usa0JBQWtCO0lBQ2xCLG1CQUFtQjtJQUNuQixpQkFBaUI7SUFDakIsNENBQTRDO0lBQzVDLG1CQUFtQjtFQUNyQjs7OztFQUlBO0lBQ0UsaUJBQWlCO0VBQ25COztFQUVBO0lBQ0Usa0JBQWtCO0VBQ3BCOztFQUVBO0lBQ0UsZ0JBQWdCO0VBQ2xCOztFQUVBO0lBQ0UsV0FBVztJQUNYLGdCQUFnQjtHQUNqQixtQkFBbUI7SUFDbEIsZUFBZTs7RUFFakI7O0VBRUE7SUFDRSxnQkFBZ0I7SUFDaEIsZ0JBQWdCO0lBQ2hCLHVCQUF1QjtBQUMzQjs7OztBQUlBO0dBQ0csa0JBQWtCO0dBQ2xCLFFBQVE7R0FDUixtQkFBbUI7SUFDbEIscUJBQXFCO0lBQ3JCLGdCQUFnQjtJQUNoQixrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIseUNBQXlDO0VBQzNDOztFQUVBO0lBQ0UsMENBQTBDO0lBQzFDLCtCQUErQjtJQUMvQixnQkFBZ0I7SUFDaEIsdUJBQXVCO0VBQ3pCIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XHJcbiAgICBtYXgtd2lkdGg6IDgwMHB4O1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICBwYWRkaW5nOiA0MHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2Y4ZjlmYTtcclxuICAgIG1hcmdpbi10b3A6IDUwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gIH1cclxuXHJcbiAgaDIge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMzBweDtcclxuICAgIHBhZGRpbmc6IDE2cHggMHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMDYsIDEwNiwgMTA0LCAwLjAzNSk7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gIH1cclxuXHJcbiBcclxuXHJcbiAgLmZvcm0tbGFiZWwge1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgfVxyXG5cclxuICAuZm9ybS1jb250cm9sIHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICB9XHJcblxyXG4gIHRleHRhcmVhLmZvcm0tY29udHJvbCB7XHJcbiAgICByZXNpemU6IHZlcnRpY2FsO1xyXG4gIH1cclxuXHJcbiAgLmJ0bi1wcmltYXJ5IHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWFyZ2luLXRvcDogMTJweDtcclxuICAgYm9yZGVyLXJhZGl1czoyOHB4IDtcclxuICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgIFxyXG4gIH1cclxuXHJcbiAgLmZvcm0tdGV4dHtcclxuICAgIGZvbnQtc2l6ZTogc21hbGw7XHJcbiAgICBmb250LXdlaWdodDogNTAwO1xyXG4gICAgY29sb3I6IHJnYigyNTUsIDMyLCAzMik7XHJcbn1cclxuXHJcblxyXG5cclxuLlByb2R1Y3RQYWdle1xyXG4gICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgIHRvcDoyMHB4O1xyXG4gICBtYXJnaW4tcmlnaHQ6IDcwMHB4O1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgcGFkZGluZzogOHB4IDhweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDE3MCwgMjU1LCAwLjczKTtcclxuICB9XHJcbiAgXHJcbiAgLlByb2R1Y3RQYWdlOmhvdmVye1xyXG4gICAgYm9yZGVyOiAzcHggc29saWQgcmdiYSgwLCAxNzAsIDI1NSwgMC41NDEpO1xyXG4gICAgY29sb3I6IHJnYmEoMCwgMTcwLCAyNTUsIDAuNTQxKTtcclxuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { UpdateProductListComponent };","map":{"version":3,"names":["FormGroup","FormControl","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","UpdateProductListComponent_div_5_Template_button_click_4_listener","ɵɵrestoreView","_r6","ctx_r5","ɵɵnextContext","ɵɵresetView","closeClick","ɵɵadvance","ɵɵtextInterpolate1","ctx_r1","PhotoFileName","ctx_r2","selectedFileName","ɵɵelement","ɵɵproperty","ctx_r3","PhotoFilePath","ɵɵsanitizeUrl","ctx_r4","changedPhotoFilePath","UpdateProductListComponent","constructor","service","router","isProductAdded","isChanged","id","snapshot","params","UpdatedProductForm","productName","description","quantity","imageFileName","price","discount","specification","ngOnInit","console","warn","getproductsById","subscribe","result","filenameParts","split","filename","length","phottFIle","imageUrl","collectUpdatedData","value","updateProduct","UploadPhoto","event","selectedFile","target","files","name","undefined","formdata","FormData","append","response","log","fileName","error","ɵɵdirectiveInject","i1","GroceryProductsService","i2","ActivatedRoute","selectors","viewQuery","UpdateProductListComponent_Query","rf","ctx","ɵɵtemplate","UpdateProductListComponent_div_5_Template","UpdateProductListComponent_Template_form_ngSubmit_6_listener","UpdateProductListComponent_Template_input_change_24_listener","$event","UpdateProductListComponent_p_25_Template","UpdateProductListComponent_p_26_Template","UpdateProductListComponent_div_27_Template","UpdateProductListComponent_div_28_Template"],"sources":["C:\\Users\\anoopkumar02\\Desktop\\Nagarro Assignment\\ExitProject Pratice\\PracticeProject2\\GroceryShopFrontend\\src\\app\\Component\\update-product-list\\update-product-list.component.ts","C:\\Users\\anoopkumar02\\Desktop\\Nagarro Assignment\\ExitProject Pratice\\PracticeProject2\\GroceryShopFrontend\\src\\app\\Component\\update-product-list\\update-product-list.component.html"],"sourcesContent":["import { Component, ViewChild, ElementRef } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { GroceryProductsService } from '../Services/grocery-products.service';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-update-product-list',\n  templateUrl: './update-product-list.component.html',\n  styleUrls: ['./update-product-list.component.css']\n})\n\nexport class UpdateProductListComponent {\n  @ViewChild('fileInput') fileInput!: ElementRef;\n\n  selectedFile: File | undefined;\n  selectedFileName: string | undefined;\n  PhotoFileName: any;\n  PhotoFilePath:any;\n  changedPhotoFilePath:any;\n  isProductAdded: boolean = false;\n  isChanged: boolean = false;\n  phottFIle: any;\n\n  constructor(private service: GroceryProductsService,private router:ActivatedRoute) {}\n  id:any =this.router.snapshot.params['id'];\n\n\n\n  UpdatedProductForm = new FormGroup({\n    productName: new FormControl(\"\"),\n    description: new FormControl(\"\"),\n    quantity: new FormControl(\"\"),\n    imageFileName: new FormControl(\"\"),\n    price: new FormControl(\"\"),\n    discount: new FormControl(\"\"),\n    specification: new FormControl(\"\")\n  });\n\n  ngOnInit() {\n    console.warn(this.id);\n    this.service.getproductsById(this.id).\n    subscribe((result:any)=>{\n      \n      const selectedFileName = result.imageFileName;\n      const filenameParts = selectedFileName?.split('\\\\');\n      const filename = filenameParts?.[filenameParts.length - 1];\n      this.PhotoFileName = filename;\n      \n      this.phottFIle = this.service.imageUrl + filename;\n      this.PhotoFilePath = this.phottFIle;\n      this.isChanged=false;\n\n      this.UpdatedProductForm = new FormGroup({\n\n        productName: new FormControl(result[\"productName\"]),\n        description: new FormControl(result[\"description\"]),\n        quantity: new FormControl(result[\"quantity\"]),\n        imageFileName: new FormControl(),\n        price: new FormControl(result[\"price\"]),\n        discount: new FormControl(result[\"discount\"]),\n        specification: new FormControl(result[\"specification\"])\n      });\n\n     \n    })\n\n  }\n\n  collectUpdatedData(){\n    console.warn(this.id,this.UpdatedProductForm.value);\n    this.isProductAdded = true;\n    this.service.updateProduct(this.UpdatedProductForm.value,this.id).\n    subscribe((result:any)=>{\n      console.warn(result);\n      \n    });\n  }\n\n  \n  UploadPhoto(event: any) {\n    this.selectedFile = event.target.files[0];\n    this.selectedFileName = this.selectedFile ? this.selectedFile.name : undefined;\n  \n    const formdata: FormData = new FormData();\n    if (this.selectedFile) {\n      formdata.append('file', this.selectedFile, this.selectedFileName);\n    }\n  \n    this.service.UploadPhoto(formdata).subscribe(\n      (response: any) => {\n        console.log(response.fileName);\n        this.selectedFileName = response.fileName;\n        const filenameParts = this.selectedFileName?.split('\\\\');\n        this.selectedFileName = filenameParts?.[filenameParts.length - 1];\n        this.changedPhotoFilePath = this.service.imageUrl + this.selectedFileName;\n        this.isChanged=true;\n      },\n      (error: any) => {\n        console.error(error);\n      }\n    );\n}\n\ncloseClick(){\n  this.isProductAdded = false;\n}\n}\n","<a class=\"ProductPage\" routerLink=\"/\">Go Back to Products page</a>\n<div class=\"container\">\n    <h2>Update Product Details</h2>\n    <div *ngIf=\"isProductAdded\" class=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\n      <strong>Success!</strong> Product is Updated SuccessFully .\n      <button (click)=\"closeClick()\" type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n    </div>\n\n    <form [formGroup]=\"UpdatedProductForm\" (ngSubmit)=\"collectUpdatedData()\" >\n      <div class=\"row mb-3\">\n        <label for=\"productName\" class=\"form-label\">Product Name</label>\n        <input type=\"text\" class=\"form-control\" id=\"productName\" placeholder=\"Enter product name\" formControlName=\"productName\">\n      </div>\n\n      <div class=\"row mb-3\">\n        <label for=\"description\" class=\"form-label\">Description</label>\n        <textarea class=\"form-control\" id=\"description\" rows=\"3\" placeholder=\"Enter description\" formControlName=\"description\"></textarea>\n      </div>\n\n      <div class=\"row mb-3\">\n        <div class=\"col\">\n            <label for=\"quantity\" class=\"form-label\">Quantity</label>\n        <input type=\"number\" class=\"form-control\" id=\"quantity\" placeholder=\"Enter quantity\" formControlName=\"quantity\">\n        </div>\n\n      \n      </div>\n      <div class=\"row mb-3\">\n        <div class=\"col\"><label for=\"imageFileName\" class=\"form-label\">Image</label>\n            <input type=\"file\" name=\"imageFileName\" class=\"form-control\" id=\"imageFileName\" \n            formControlName=\"imageFileName\" \n            (change)=\"UploadPhoto($event)\"  >\n            <p *ngIf=\"!isChanged\">Selected file: {{ PhotoFileName }}</p>\n            <p *ngIf=\"isChanged\">Selected file: {{ selectedFileName }}</p>\n        </div>\n            <div *ngIf=\"!isChanged\" class=\"col\"><img style=\"width:100px; height:100px\" [src]=\"PhotoFilePath\" [alt]=\"PhotoFileName\"></div>\n            <div *ngIf=\"isChanged\" class=\"col\"><img style=\"width:100px; height:100px\" [src]=\"changedPhotoFilePath\" [alt]=\"changedPhotoFilePath\"></div>\n      </div>\n      <div class=\"row mb-3\">\n        <div class=\"col\">\n            <label for=\"price\" class=\"form-label\">Price</label>\n            <input type=\"number\" class=\"form-control\" id=\"price\" placeholder=\"Enter price\" formControlName=\"price\">    \n        </div>\n\n       <div class=\"col\">\n           <label for=\"discount\" class=\"form-label\">Discount</label>\n             <input type=\"number\" class=\"form-control\" id=\"discount\" placeholder=\"Enter discount\" formControlName=\"discount\">\n       </div>\n       \n      </div>\n      <div class=\"row mb-3\">\n      </div>\n      <div class=\"row mb-3\">\n        <label for=\"specification\" class=\"form-label\">Specification</label>\n        <textarea class=\"form-control\" id=\"specification\" rows=\"3\" placeholder=\"Enter specification\" formControlName=\"specification\"></textarea>\n      </div>\n      <button type=\"submit\" class=\"btn btn-primary\" >Update Product</button>\n     \n    </form>\n  </div>\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}